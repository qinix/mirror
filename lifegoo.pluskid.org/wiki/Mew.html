<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <title>Mew</title>
    <meta name="generator" content="muse.el">
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8">
    <LINK REL=StyleSheet HREF="css/style.css" TYPE="text/css">

    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      _uacct = "UA-2502495-1";
      urchinTracker();
    </script>

  </head>
  <body>
    <a id="top"></a>
    <h1>Mew</h1>
<div id="wrap">
<div id="navmenu">
  <h2>Favourite</h2>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="Emacs.html">Emacs</a></li>
    <li><a href="CommonLisp.html">Common Lisp</a></li>
  </ul>

  <h2>Unix</h2>
  <ul>
    <li><a href="Linux.html">Linux</a></li>
    <li><a href="Debian.html">Debian</a></li>
  </ul>

  <h2>Software</h2>
  <ul>
    <li><a href="Emacs.html">Emacs</a></li>
    <li><a href="Sawfish.html">Sawfish</a></li>
    <li><a href="Screen.html">Screen</a></li>
  </ul>

  <h2>Programming</h2>
  <ul>
    <li><a href="CAndCPlusPlus.html">C/C++</a></li>
    <li><a href="CommonLisp.html">Common Lisp</a></li>
    <li><a href="Scheme.html">Scheme</a></li>
    <li><a href="Python.html">Python</a></li>
  </ul>

</div>

<div id="content">
<!-- end header -->

<!--contents goes here--><div class="contents"><h2>Contents</h2>
<dl>
<dt>
<a href="#sec1">简介</a>
</dt>
<dt>
<a href="#sec2">安装和配置</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec3">安装</a>
</dt>
<dt>
<a href="#sec4">配置</a>
</dt>
</dl>
</dd>
<dt>
<a href="#sec5">使用简介</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec6">地址簿</a>
</dt>
<dt>
<a href="#sec7">邮件分类</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec8">按照文件夹来猜测分类</a>
</dt>
</dl>
</dd>
<dt>
<a href="#sec9">附件处理</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec10">发送附件</a>
</dt>
</dl>
</dd>
</dl>
</dd>
<dt>
<a href="#sec11">小技巧</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec12">邮件乱码问题</a>
</dt>
<dt>
<a href="#sec13">summary-mode 的格式</a>
</dt>
</dl>
</dd>
</dl>
</div>


    <!-- Page published by Emacs Muse begins here -->
<h2><a name="sec1" id="sec1"></a>
简介</h2>

<p class="first">我一直在找一个方便好用的邮件客户端，在使用 <a href="KDE.html">KDE</a> 的时候我一直用 Kmail ，
现在不用 <a href="KDE.html">KDE</a> 了，也想找一个更强大的邮件客户端。<a href="Gnus.html">Gnus</a> 作为新闻阅读器是非
常不错的，但是要方便地用于邮件管理还是需要很大的技巧，况且 <a href="Gnus.html">Gnus</a> 本身已
经很慢了，<a href="Emacs.html">Emacs</a> 又是单线程的，经常因为 <a href="Gnus.html">Gnus</a> 而暂时挂起，所以我决定尝试
一下 <a href="Emacs.html">Emacs</a> 以外的一个有名的邮件客户端 <a href="Mutt.html">Mutt</a> 。</p>

<p><a href="Mutt.html">Mutt</a> 是很不错的，不过后来我把 <a href="Gnus.html">Gnus</a> 和平时使用的 <a href="Emacs.html">Emacs</a> 作为两个不同的进
程来启动，就不怕拖累 <a href="Emacs.html">Emacs</a> 了，同时又听说了 Mew ，决定尝试一下。</p>


<h2><a name="sec2" id="sec2"></a>
安装和配置</h2>

<h3><a name="sec3" id="sec3"></a>
安装</h3>

<p class="first">在 <a href="http://www.mew.org">http://www.mew.org</a> 可以下载到最新的 mew 的打包文件。如果是 <a href="Debian.html">Debian</a>
系统的话，可以直接用 <code>apt-get</code> 进行安装。不过 <a href="Debian.html">Debian</a> 里面的 mew 依赖于
emacsen ，如果你安装了 emacs21 或者 emacs-snapshot 的话，没有任何问题，
或者自己编译安装了 <a href="Emacs.html">Emacs</a> 并且相应配置好了 emacsen 机制，也是可以的。</p>

<p>我对 <a href="Debian.html">Debian</a> 的 emacsen 的机制并不是特别了解，而且我是自己编译的 <a href="Emacs.html">Emacs</a>
，所以我决定直接使用源代码进行安装。可是我从其主页上下载速度几乎为零，
幸好 <code>apt-get</code> 也可以取得源代码，所以我就直接使用 <code>apt-get</code> 了：</p>

<pre class="example">
sudo apt-get source mew-beta
</pre>

<p>之后进入到源代码目录，然后：</p>

<pre class="example">
./configure
make
make info
sudo make install
</pre>

<p>如果一切顺利，那么恭喜你，mew 已经安装到系统里面去了！</p>


<h3><a name="sec4" id="sec4"></a>
配置</h3>

<p class="first">安装完之后还需要配置一下才能使用，在 <code>~/.emacs</code> 里面加入下列语句用于告诉
<a href="Emacs.html">Emacs</a> 如何启动 mew ：</p>

<div class="emacs-outer"><div class="emacs-title-right">
<div class="emacs-title-left">
<div class="emacs-cont-left">
<div class="emacs-cont-right">
<div class="emacs-footer-right">
<div class="emacs-footer-left"><pre class="src" style="background-color:#1f1f1f;color:#00ff00;"><style type="text/css"><!--       .keyword {
        /* font-lock-keyword-face */
        color: #00ffff;
      }
      .string {
        /* font-lock-string-face */
        color: #ffa07a;
      }
    --></style>(add-to-list 'load-path
             (expand-file-name <span class="string">"~/emacs/packages/mew-beta-5.1.50/"</span>))
(autoload 'mew <span class="string">"mew"</span> nil t)
(autoload 'mew-send <span class="string">"mew"</span> nil t)

(<span class="keyword">if</span> (boundp 'read-mail-command)
    (setq read-mail-command 'mew))

(autoload 'mew-user-agent-compose <span class="string">"mew"</span> nil t)
(<span class="keyword">if</span> (boundp 'mail-user-agent)
    (setq mail-user-agent 'mew-user-agent))
(<span class="keyword">if</span> (fboundp 'define-mail-user-agent)
    (define-mail-user-agent
        'mew-user-agent
        'mew-user-agent-compose
        'mew-draft-send-message
        'mew-draft-kill
        'mew-send-hook))
</pre></div></div></div></div></div></div></div>

<p>真正的邮件相关的配置根据约定应该放在 <code>~/.mew.el</code> 里面。里面可以设置自己
的名字以及 email 地址、邮箱等，具体可以参考 mew 所带的 info 文档。我使
用 <a href="Fetchmail">Fetchmail</a> 进行收信，并使用 <a href="Procmail.html">Procmail</a> 进行初步过滤后送到一个 maildir
格式的本地邮箱里面，并通过本地 <a href="Exim4.html">Exim4</a> 进行发信，所以不需要配置远程的
POP3 以及 SMTP 等。</p>

<div class="emacs-outer"><div class="emacs-title-right">
<div class="emacs-title-left">
<div class="emacs-cont-left">
<div class="emacs-cont-right">
<div class="emacs-footer-right">
<div class="emacs-footer-left"><pre class="src" style="background-color:#1f1f1f;color:#00ff00;"><style type="text/css"><!--       .string {
        /* font-lock-string-face */
        color: #ffa07a;
      }
      .underline {
        /* underline */
        text-decoration: underline;
      }
    --></style>(setq mew-name <span class="string">"pluskid"</span>)
(setq mew-user <span class="string">"pluskid.zju"</span>)
(setq mew-mail-domain <span class="string">"gmail.org"</span>)

(setq mew-mailbox-type 'mbox)
(setq mew-mbox-command <span class="string">"incm"</span>)
(setq mew-mbox-command-arg (concat <span class="string">"-u -d "</span>
                                   (expand-file-name <span class="string">"~/Maildir/inbox/</span><span class="string"><span class="underline">"</span></span><span class="underline">)))
</span></pre></div></div></div></div></div></div></div>



<h2><a name="sec5" id="sec5"></a>
使用简介</h2>

<h3><a name="sec6" id="sec6"></a>
地址簿</h3>

<p class="first">Mew 提供地址自动完成功能，在输入地址的时候可以使用 <code>TAB</code> 键来进行自动完
成，自动完成有几个信息来源：</p>

<ol>
<li>地址簿中指定的扩展规则</li>
<li>地址簿中提供的个人信息</li>
<li>发送邮件的时候自动学习记录下来的地址</li>
</ol>

<p>Mew 提供两种补全方式，由变量 <code>mew-use-full-alias</code> 来控制，这个变量默认情
况下是 <code>nil</code> ，就是第一种补全方式，我们通常使用这种。两种补全方式的优缺
点可以参考 mew 的文档。</p>

<p>Mew 的地址簿默认是 <code>~/Mail/Addrbook</code> 这个文件，里面有两种信息：扩展规则
和个人信息。</p>

<p>扩展规则的格式是：</p>

<pre class="example">
&lt;shortname&gt;: &lt;address1&gt;[, &lt;address2&gt;, &lt;address3, ...]
</pre>

<p>我们通常不使用这个，不过如果需要一个名称扩展到多个地址的时候可以使用这
个，例如：</p>

<pre class="example">
friends: pluskid@mstczju.org, pluskid.zju@gmail.com
</pre>

<p>另外一种格式是个人信息的存放格式：</p>

<pre class="example">
&lt;shortname&gt; &lt;address1&gt;[, &lt;address2&gt;, &lt;address3&gt;, ...] &lt;nickname&gt; &lt;fullname&gt;
</pre>

<p>注意这里没有冒号了。如果使用第一种补全方式，那么可以通过不断地按 <code>TAB</code>
键来在个人信息里面指定的各个邮件地址之间循环，而不是向扩展规则中指定的
那样一下子把全部地址扩展出来。另外， <code>nickname</code> 和 <code>fullname</code> 也是很有用的，
例如，在 summary-mode 里面可以以 <code>nickname</code> 来代替发件人地址显示出来。</p>

<p>另外，还可以使用 <code>#</code> 或者 <code>;</code> 作为注释，需要注意的是， <code>;</code> 只有在行首的时候
被认为是注释，而 <code>#</code> 则可以用在任何地方。</p>

<p>修改了地址簿之后，可以在 summary-mode 里面按 <code>Z</code> 提示 mew 读取更新后的地
址簿的信息。</p>

<p>作为一个例子，假如地址簿里面有一条：</p>

<pre class="example">
kid pluskid@mstczju.org, pluskid.zju@gmail.com pluskid pluskid
</pre>

<p>并且使用第一种补全方式。那么，在输入 <code>k</code> 之后按 <code>TAB</code> (假如没有其他匹配的
选项)，就会补全为 <code>kid</code> ，继续按 <code>TAB</code> ，则会出现 <code>pluskid@mstczju.org</code> ，再
按 <code>TAB</code> 则变为下一个地址 <code>pluskid.zju@gmail.com</code> ，这个时候按下 <code>M-TAB</code> ，
则会变为 <code>pluskid &lt;pluskid.zju@gmail.com&gt;</code> 的样子。非常方便吧？</p>


<h3><a name="sec7" id="sec7"></a>
邮件分类</h3>

<p class="first">Mew 有非常方便的邮件分类功能，正如他文档里面所说的那样：“Happy
refiling”。因为他有一套复杂的算法来自动计算邮件应该被归到的类别。在
summary-mode 里面按 <code>o</code> 即可对当前邮件进行分类，mew 会问你把邮件分类到哪
个文件夹里面去，并提供了一个默认的选项，通常情况下默认选项就是正确的选
项，所以直接回车就可以了。</p>

<h4><a name="sec8" id="sec8"></a>
按照文件夹来猜测分类</h4>

<p class="first">通常我们会把同一个邮件列表里面的所有邮件归类到一个文件夹里面，mew 也对
这个功能提供了支持。例如，我有一个叫做 <code>+misc/allmstc</code> 的文件夹，那么这
样一封邮件会被 mew 猜测应该是归类到这个文件夹里面去：</p>

<pre class="example">
To: allmstc@mstczju.org
</pre>

<p>因为 mew 会自动搜索是否存在对应于 <code>To:</code> 和 <code>Cc:</code> 的文件夹。如果你对猜测的
文件夹不满意，可以自己输入一个，如果这个文件夹不存在，它会被创建并自动
添加到文件夹列表里面(通常保存在 <code>~/Mail/.mew-folder-alist</code> 里面)。</p>

<p>另外，如果你只使用小写字母命名自己的邮件文件夹的话，把
<code>mew-use-fast-refile</code> 设置为 <code>t</code> 用于加快速度。通常我们使用多层文件夹，默认
情况下每一层文件夹都被作为一个可用的邮件文件夹，但是我们通常只希望使用
最后一层文件夹(例如 <code>+misc/allmstc</code> ，我们希望 <code>allmstc</code> 作为一个邮件文件夹，
而 <code>misc</code> 只是作为一个大类，并不用于存放文件。)，那么只需要把
<code>mew-use-node-folder</code> 设置为 <code>nil</code> 即可。</p>



<h3><a name="sec9" id="sec9"></a>
附件处理</h3>

<h4><a name="sec10" id="sec10"></a>
发送附件</h4>

<p class="first">Mew 允许你轻松编辑一个复杂的多媒体邮件。在编辑邮件的时候，按 <code>C-c C-a</code>
即可开始添加附件，这个时候邮件的末尾会出现如下类似的字样：</p>

<pre class="example">
------------------------------ attachments ------------------------------
      Multipart/Mixed                                                                   1/
     1  Text/Plain(guess)                                                                 *Cover.txt
     2                                                                                    .
--------0-1-2-3-4-5-6-7-8-9----------------------------------------------
</pre>

<p>其中 <code>1/</code> 是一个用于处理附件的临时目录，默认是 <code>~/Mail/attach/1</code> 这个目录。
默认已经插入的这个附件 <code>Cover.txt</code> 其实就是邮件的文本内容。这个时候按下
<code>c</code> 即可添加附件，输入要添加的附件的路径即可把附件拷贝到这个临时目录下面，
也可以使用 <code>l</code> 来创建链接，但是如果要编辑附件的话，最好使用 <code>c</code> 来拷贝，免
得修改了原来的文件。</p>

<p>另外，除了添加已经存在的附件以外，还可以使用 <code>F</code> 来打开一个新的文件进行编
辑并添加为附件。随时可以使用 <code>f</code> 命令重新打开一个附件进行编辑，使用=P= 来改
名或者使用 <code>d</code> 进行删除。</p>

<p><code>m</code> 可以建立子目录，在附件多的时候可以方便对附件进行分类管理。 <code>C-f</code> 和
<code>C-b</code> 可以在不同层次的目录之间切换。</p>




<h2><a name="sec11" id="sec11"></a>
小技巧</h2>

<h3><a name="sec12" id="sec12"></a>
邮件乱码问题</h3>

<p class="first">有时候邮件所声称的自己的编码事实上是错误的，邮件会显示为乱码。Mew 可以
很好地处理这个问题，你可以通过 <code>C-c C-l</code> 来让 mew 自动猜测正确的编码来显
示邮件。</p>


<h3><a name="sec13" id="sec13"></a>
summary-mode 的格式</h3>

<p class="first">summary-mode 显示的格式可以由 <code>mew-summary-form</code> 来控制，通过 <code>C-h v</code> 来查
看这个变量可以获取详细的文档。我在使用的时候发现设置了这个变量根本不起
作用，后来发现设置之后并不会影响到以前的邮件，只有新收到的邮件才会应用
这个设置。因为 mew 对 summary 进行了缓存，你可以手工删除缓存让他重新生
成，缓存是在自己邮箱文件夹下的一个文件，例如：
<code>~/Mail/inbox/.mew-summary</code> 。</p>

<p>另外，把 <code>mew-use-unread-mark</code> 设置为 <code>t</code> 可以让 mew 自动在未读邮件前面加
上 <code>N</code> 的标记。</p>



<!-- Page published by Emacs Muse ends here -->
  </div>
  </div>
  </body>
</html>
